const yearEl=document.getElementById('year');if(yearEl)yearEl.textContent=new Date().getFullYear();
document.getElementById('topLink')?.addEventListener('click',e=>{e.preventDefault();window.scrollTo({top:0,behavior:'smooth'})});
document.getElementById('msgForm')?.addEventListener('submit',e=>{e.preventDefault();const n=document.getElementById('name').value.trim();const m=document.getElementById('email').value.trim();const t=document.getElementById('message').value.trim();const b=encodeURIComponent(`From: ${n} <${m}>\n\n${t}`);window.location.href=`mailto:your@email?subject=Portfolio%20Message&body=${b}`});
fetch('data/projects.json').then(r=>r.json()).then(items=>{const grid=document.getElementById('project-grid');const make=p=>{const el=document.createElement('article');el.className='project';el.innerHTML=`<h3>${p.title}</h3><p>${p.summary}</p><div class="tags">${p.tags.map(t=>`<span class="tag">${t}</span>`).join('')}</div><div style="margin-top:auto;display:flex;gap:10px">${p.demo?`<a class="btn btn-ghost" target="_blank" href="${p.demo}">Demo</a>`:''}${p.code?`<a class="btn" target="_blank" href="${p.code}">Code</a>`:''}</div>`;return el;};items.forEach(p=>grid.appendChild(make(p)));}).catch(()=>{document.getElementById('project-grid').innerHTML='<p class="note">Add your projects in <code>/data/projects.json</code>.</p>';});document.getElementById('githubLink').href='https://github.com/yourusername';
